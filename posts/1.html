<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Page 1 - 冻结的黎明</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="河边的老牛">
    <meta name="keywords" content="golang,php,python"/>
    <meta name="description" content="go,php"/>
    <link href="/static/css/pure-min.css" type="text/css" rel="stylesheet" media="all">
    <link href="/static/css/blog.css" type="text/css" rel="stylesheet" media="all">
    <link href="/static/css/railscasts.css" type="text/css" rel="stylesheet" media="all"/>
</head>
<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar pure-u">
    <header class="header">
        <hgroup>
            <h1 class="brand-title">
                <a href="/" class="brand-title">冻结的黎明</a>
            </h1>
        </hgroup>
        <nav class="nav">
            <ul class="nav-list">
                <li class="">
                    <a href="/">文章</a>
                </li>
                <li class="">
                    <a href="/archive.html">归档</a>
                </li>
                <li class="">
                    <a href="/about.html">关于</a>
                </li>
            </ul>
        </nav>
    </header>
</div>
    <div class="pure-u-1">
        <div class="content">
            <div class="page-header">
                <h1>所有文章</h1>
            </div>
            
            <div class="post">
                <h3 class="post-header"><a href="/2016/9/26/2016-09-26-14-07.html">关于积累</a></h3>
                <div class="post-meta">
                    <small>2016-9-26</small>
                </div>
                <div class="post-description"><p>前些天和朋友吃饭，我讲到最近有很多同事跳槽，工资涨了好多，他讲他们这样跳槽那怎么积累呢，积累这个词似乎很熟悉，我记得自己刚开始工作的时候，经常一些同事，还有逛CSDN的时候一些老前辈都说，你不能轻易跳槽，你只有在一个公司做的时间长了，公司的核心的东西才能交由你做，这样你才能学习到东西。</p>

<p>积累无非就是学到或得到东西，这些东西包括技术、为人处世、人脉等等，这里只讲技术方面，通常在公司的累积可以理解为通过完成公司的任务学习到的技术，我觉得积累可以分为3个方面</p>

<h4>1.学习公司已有的技术</h4>

<p>假设你刚毕业，加入了一家已经有一定规模的公司，公司可能考虑到你的技术能力的原因，只会让你做一些边边角角事情，而一切对你都是新的，从任何的工作中你都能学到东西，随着你能力的增加，公司给你的任务也越来越复杂，你可以通过这些锻炼自己的技术，并且还能获得同事的帮助，从同事那里也能学到东西。</p>

<h4>2.通过自己的研究实践去学习</h4>

<p>依互联网公司为例，假设在理想情况下， 你加入公司之后，为公司开发的第一个版本的系统能支持1W的并发量，公司的业务不断的成长，很快并发量就超过了1W，这时候你需要查阅资料，不断测试实践之后，使公司的系统能支持10W的并发量了，但是很快10W的并发量也快不够用了，这时候你又需要不断的研究实践去提高系统的性能和吞吐量，这个时间不通过不断解决公司的问题积累了很多的东西。</p>

<h4>3.宽度扩展</h4>

<p>随着公司的发展，你可能需要经常学习不同的技术去满足公司的发展需要。</p>

<p>但是</p>
</div>
                <div class="more">
                    <a href="/2016/9/26/2016-09-26-14-07.html" class="btn pure-button pure-button-primary">继续阅读..</a>
                </div>
            </div>
            
            <div class="post">
                <h3 class="post-header"><a href="/2016/5/19/2016-05-19-13-59.html">centos7 安装和配置mongodb</a></h3>
                <div class="post-meta">
                    <small>2016-5-19</small>
                </div>
                <div class="post-description"><h3>下载</h3>

<p>官网下载地址：<a href="https://www.mongodb.com/download-center#community">https://www.mongodb.com/download-center#community</a></p>
<pre><code>//下载
curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.2.6.tgz

% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                             Dload  Upload   Total   Spent    Left  Speed
100 55.2M  100 55.2M    0     0  35665      0  0:27:05  0:27:05 --:--:-- 60124

//解压
tar -zxvf mongodb-linux-x86_64-3.2.6.tgz

mongodb-linux-x86_64-3.2.6/README
mongodb-linux-x86_64-3.2.6/THIRD-PARTY-NOTICES
mongodb-linux-x86_64-3.2.6/MPL-2 
mongodb-linux-x86_64-3.2.6/GNU-AGPL-3.0
mongodb-linux-x86_64-3.2.6/bin/mongodump
mongodb-linux-x86_64-3.2.6/bin/mongorestore
mongodb-linux-x86_64-3.2.6/bin/mongoexport
mongodb-linux-x86_64-3.2.6/bin/mongoimport
mongodb-linux-x86_64-3.2.6/bin/mongostat
mongodb-linux-x86_64-3.2.6/bin/mongotop
mongodb-linux-x86_64-3.2.6/bin/bsondump
mongodb-linux-x86_64-3.2.6/bin/mongofiles
mongodb-linux-x86_64-3.2.6/bin/mongooplog
mongodb-linux-x86_64-3.2.6/bin/mongoperf
mongodb-linux-x86_64-3.2.6/bin/mongod
mongodb-linux-x86_64-3.2.6/bin/mongos
mongodb-linux-x86_64-3.2.6/bin/mongo

//移动改名
mv mongodb-linux-x86_64-3.2.6 mongodb
</code></pre>

<h3>配置</h3>

<h4>1.创建目录</h4>
<pre><code>cd /usr/local/mongodb

mkdir data
mkdir logs
</code></pre>

<h4>2.添加配置文件</h4>
<pre><code>vim mongodb.conf 
port=27017
logappend=true
fork=true
dbpath=/usr/local/mongodb/data
logpath=/usr/local/mongodb/logs/mongodb.log
:wq!
</code></pre>

<h4>3.不加auth验证启动</h4>
<pre><code>//主要是 mongodb3.x 无默认账号 需要登录后创建admin账户 后面会讲
./bin/mongod -f mongodb.conf

about to fork child process, waiting until server is ready for connections.
forked process: 26932
child process started successfully, parent exiting
</code></pre>

<h4>4.启动mongo shell</h4>
<pre><code>./bin/mongo

MongoDB shell version: 3.2.6
connecting to: test 
Welcome to the MongoDB shell.
For interactive help, type &quot;help&quot;.
For more comprehensive documentation, see
    http://docs.mongodb.org/
Questions? Try the support group
    http://groups.google.com/group/mongodb-user
</code></pre>

<h4>5.添加管理用户</h4>
<pre><code>use admin  
db.createUser(  
    {  
        user: &quot;admin&quot;,  
        pwd: &quot;admin&quot;,  
        roles: [ { role: &quot;userAdminAnyDatabase&quot;, db: &quot;admin&quot; } ]  
   }  
)  
//查看创建的用户
show users或者db.system.users.find()  

{
    &quot;_id&quot; : &quot;admin.admin&quot;,
    &quot;user&quot; : &quot;admin&quot;,
    &quot;db&quot; : &quot;admin&quot;,
    &quot;roles&quot; : [
            {
                    &quot;role&quot; : &quot;userAdminAnyDatabase&quot;,
                    &quot;db&quot; : &quot;admin&quot;
            }
    ]
}
</code></pre>

<h4>6.关闭mongod服务 使用&ndash;auth重新启动服务</h4>
<pre><code>ps aux | grep mongo

kill -2 xxxx

//重新启动
./bin/mongod -f mongodb.conf --auth
</code></pre>

<h4>7.再次启动 mongo shell 使用auth验证登录</h4>
<pre><code>./bin/mongo

use admin

db.auth(&quot;admin&quot;,&quot;admin&quot;)
//返回1  代表认证成功
</code></pre>

<h4>8.创建用户和库</h4>
<pre><code>use test

db.createUser({  
    user: &quot;test&quot;,  
    pwd: &quot;test&quot;,  
    roles: [  
        { role: &quot;readWrite&quot;, db: &quot;test&quot; }  
    ]  
}) 
</code></pre>

<h4>9. 使用新创建的用户登录</h4>
<pre><code>use test
db.auth(&quot;test&quot;, &quot;test&quot;) 
//返回1 登录成功
</code></pre>

<h3>开机启动</h3>

<h4>1.创建开机启动脚本</h4>
<pre><code> cd /etc/init.d/

 vim mongodb

 //写入以下脚本

 #!/bin/bash

#mongod - Startup script for mongod

# chkconfig: 35 80 15
# description: Mongo is a scalable, document-oriented database.
# processname: mongod
#config: /usr/local/mongodb/mongodb.conf
# pidfile: /var/run/mongo/mongo.pid

MONGOD=/usr/local/mongodb/bin/mongod

mongod_start(){
    $MONGOD -f /usr/local/mongodb/mongodb.conf -auth
}
mongod_stop(){
    killall -2 mongod
}

case &quot;$1&quot; in
start)
    echo start...
    mongod_start
    if [ $? == 0 ];then
        echo &quot;Secuss start MongoDB!&quot;
    fi
;;
stop)
    mongod_stop
    if [ $? == 0 ];then
        echo &quot;MongoDB is shutdown now !&quot;
    fi
;;
restart)
    mongod_stop
    mongod_start
;;
*)
echo &quot;Use args (start|stop|restart)&quot;
;;
esac

:wq

//赋予执行权限
chmod +x /etc/init.d/mongodb

//测试一下开启和关闭mongodb
service mongodb start
service mongodb stop
</code></pre>

<h4>2.加入开机启动</h4>
<pre><code>chkconfig mongodb on
</code></pre>

<p>参考资料</p>

<p><a href="https://www.mongodb.com/download-center#community">https://www.mongodb.com/download-center#community</a></p>

<p><a href="http://blog.csdn.net/hugengyong/article/details/49799447">http://blog.csdn.net/hugengyong/article/details/49799447</a></p>

<p><a href="http://blog.csdn.net/lk10207160511/article/details/50281883">http://blog.csdn.net/lk10207160511/article/details/50281883</a></p>

<p><a href="http://my.oschina.net/fsxchen/blog/261887">http://my.oschina.net/fsxchen/blog/261887</a></p>
</div>
                <div class="more">
                    <a href="/2016/5/19/2016-05-19-13-59.html" class="btn pure-button pure-button-primary">继续阅读..</a>
                </div>
            </div>
            
            <div class="post">
                <h3 class="post-header"><a href="/2016/2/23/2016-02-23-09-47.html">微信文档地址记录</a></h3>
                <div class="post-meta">
                    <small>2016-2-23</small>
                </div>
                <div class="post-description"><h4>开发文档</h4>

<p><a href="http://mp.weixin.qq.com/wiki/5/f287d1a5b78a35a8884326312ac3e4ed.html">http://mp.weixin.qq.com/wiki/5/f287d1a5b78a35a8884326312ac3e4ed.html</a></p>

<h4>微信支付</h4>

<p><a href="https://pay.weixin.qq.com/wiki/doc/api/app.php?chapter=11_2">https://pay.weixin.qq.com/wiki/doc/api/app.php?chapter=11_2</a></p>
</div>
                <div class="more">
                    <a href="/2016/2/23/2016-02-23-09-47.html" class="btn pure-button pure-button-primary">继续阅读..</a>
                </div>
            </div>
            
            <div class="post">
                <h3 class="post-header"><a href="/2016/2/19/centos7-git-server.html">Centos7 搭建git服务器</a></h3>
                <div class="post-meta">
                    <small>2016-2-19</small>
                </div>
                <div class="post-description"><h4>安装</h4>
<pre><code>yum install -y git
</code></pre>

<h4>创建用户</h4>
<pre><code>adduser git
</code></pre>

<h4>创建登录证书</h4>
<pre><code>cd /home/git

mkdir .ssh

cd .ssh

//生成认证文件 authorized_keys 
//公钥id_rsa.pub
ssh-keygen -t rsa

//公钥写入认证文件
//这里可以将其他客户端的公钥写入这个文件进行授权认证
cat id_rsa.pub &gt;&gt; authorized_keys 
</code></pre>

<h4>初始化git仓库</h4>
<pre><code>mkdir /data/git

cd /data/git

//创建一个裸仓库
git init --bare empty.git

chown -R git:git empty.git
</code></pre>

<h4>禁用shell</h4>
<pre><code>vim /etc/passwd
</code></pre>

<p>将</p>
<pre><code>git:x:1001:1001:,,,:/home/git:/bin/bash
</code></pre>

<p>修改为</p>
<pre><code>git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell
</code></pre>

<h4>clone</h4>
<pre><code>git clone git@x.x.x.x:/data/git/emtpy.git
</code></pre>
</div>
                <div class="more">
                    <a href="/2016/2/19/centos7-git-server.html" class="btn pure-button pure-button-primary">继续阅读..</a>
                </div>
            </div>
            
        </div>
        <div class="pagination pure-g">
            <ul>
                
                <li class="next pure-u-1-3"><a href="/posts/2.html">以前的 →</a></li>
            </ul>
        </div>
        <hr/>
<div class="footer">
    <p>&copy; 冻结的黎明 2016
    </p>
</div>
    </div>
</div>
<script src="/static/js/jquery-2.1.4.min.js"></script>
<script src="/static/js/highlight.pack.js"></script>
<script>
    $(document).ready(function() {
        $('pre code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
    });
</script>
</body>
</html>
